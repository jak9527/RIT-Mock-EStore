{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./currentUser.service\";\nimport * as i2 from \"./userUpdate.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./messages/messages.component\";\nfunction AppComponent_div_5_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵtext(1, \"Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 1);\n    i0.ɵɵtext(2, \"Dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 2);\n    i0.ɵɵtext(4, \"Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 3);\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, AppComponent_div_5_a_7_Template, 2, 0, \"a\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isAdmin);\n  }\n}\nfunction AppComponent_app_messages_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-messages\");\n  }\n}\nexport class AppComponent {\n  constructor(currentUserService, userUpdateService, router) {\n    this.currentUserService = currentUserService;\n    this.userUpdateService = userUpdateService;\n    this.router = router;\n    this.currentUser = this.initUser();\n    this.message = \"\";\n    this.isAdmin = false;\n    this.title = 'Rit Garage Sale';\n    this.currentUserExists = false;\n    this.updateHeader;\n    this.userSubscription = this.userUpdateService.getUpdate().subscribe(message => {\n      this.updateHeader();\n      this.message = message;\n    });\n  }\n  ngOnInit() {\n    this.updateHeader();\n  }\n  ngOnChanges() {}\n  initUser() {\n    var theUser = null;\n    this.currentUserService.getCurrentUser().subscribe(curUser => theUser = curUser);\n    return theUser;\n  }\n  updateHeader() {\n    this.currentUserService.getCurrentUser().subscribe(curUser => {\n      this.currentUser = curUser;\n      if (this.currentUser) {\n        if (this.currentUser.id == 0) {\n          this.isAdmin = true;\n        } else {\n          this.isAdmin = false;\n        }\n      } else {\n        this.isAdmin = false;\n      }\n    });\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.CurrentUserService), i0.ɵɵdirectiveInject(i2.UserUpdateService), i0.ɵɵdirectiveInject(i3.Router));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 8,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"routerLink\", \"/dashboard\"], [\"routerLink\", \"/products\"], [\"routerLink\", \"/login\"], [\"routerLink\", \"/cart\", 4, \"ngIf\"], [\"routerLink\", \"/cart\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"title\");\n      i0.ɵɵtext(1, \"RIT GARAGE SALE\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"nav\");\n      i0.ɵɵtemplate(5, AppComponent_div_5_Template, 8, 1, \"div\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"router-outlet\");\n      i0.ɵɵtemplate(7, AppComponent_app_messages_7_Template, 1, 0, \"app-messages\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterOutlet, i3.RouterLink, i5.MessagesComponent],\n  styles: [\"h1[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 0;\\r\\n  }\\r\\n  nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    padding: 1rem;\\r\\n    text-decoration: none;\\r\\n    margin-top: 10px;\\r\\n    display: inline-block;\\r\\n    background-color: #e8e8e8;\\r\\n    color: #3d3d3d;\\r\\n    border-radius: 4px;\\r\\n  }\\r\\n  \\r\\n  nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\r\\n    color: white;\\r\\n    background-color: #42545C;\\r\\n  }\\r\\n  nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active {\\r\\n    background-color: black;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDO0lBQ0ksZ0JBQWdCO0VBQ2xCO0VBQ0E7SUFDRSxhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixxQkFBcUI7SUFDckIseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxZQUFZO0lBQ1oseUJBQXlCO0VBQzNCO0VBQ0E7SUFDRSx1QkFBdUI7RUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBBcHBDb21wb25lbnQncyBwcml2YXRlIENTUyBzdHlsZXMgKi9cclxuaDEge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICB9XHJcbiAgbmF2IGEge1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4O1xyXG4gICAgY29sb3I6ICMzZDNkM2Q7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgfVxyXG4gIFxyXG4gIG5hdiBhOmhvdmVyIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0MjU0NUM7XHJcbiAgfVxyXG4gIG5hdiBhOmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAOIA,4BAAuC;IAAAA,oBAAI;IAAAA,iBAAI;;;;;IAJ/CA,2BAAyB;IACEA,yBAAS;IAAAA,iBAAI;IACxCA,4BAA0B;IAAAA,wBAAQ;IAAAA,iBAAI;IACtCA,4BAAuB;IAAAA,qBAAK;IAAAA,iBAAI;IAChCA,+DAA+C;IAC/CA,iBAAM;;;;IADFA,eAAc;IAAdA,sCAAc;;;;;IAItBA,+BAA6C;;;ACC7C,OAAM,MAAOC,YAAY;EAMvBC,YACUC,kBAAsC,EACtCC,iBAAoC,EACpCC,MAAc;IAFd,uBAAkB,GAAlBF,kBAAkB;IAClB,sBAAiB,GAAjBC,iBAAiB;IACjB,WAAM,GAANC,MAAM;IAPd,gBAAW,GAAS,IAAI,CAACC,QAAQ,EAAE;IACnC,YAAO,GAAW,EAAE;IACpB,YAAO,GAAY,KAAK;IAe1B,UAAK,GAAG,iBAAiB;IACzB,sBAAiB,GAAG,KAAK;IATvB,IAAI,CAACC,YAAY;IACjB,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACJ,iBAAiB,CAACK,SAAS,EAAE,CAACC,SAAS,CAACC,OAAO,IAAG;MACvE,IAAI,CAACJ,YAAY,EAAE;MACnB,IAAI,CAACI,OAAO,GAAGA,OAAO;IAC9B,CAAC,CAAC;EAEJ;EAKAC,QAAQ;IACN,IAAI,CAACL,YAAY,EAAE;EACrB;EAEAM,WAAW,IAEX;EAEAP,QAAQ;IACN,IAAIQ,OAAO,GAAS,IAAuB;IAC3C,IAAI,CAACX,kBAAkB,CAACY,cAAc,EAAE,CAACL,SAAS,CAACM,OAAO,IAAIF,OAAO,GAAGE,OAAO,CAAC;IAChF,OAAOF,OAAO;EAChB;EAEAP,YAAY;IACV,IAAI,CAACJ,kBAAkB,CAACY,cAAc,EAAE,CAACL,SAAS,CAACM,OAAO,IAAG;MACzD,IAAI,CAACC,WAAW,GAAGD,OAAO;MAC1B,IAAI,IAAI,CAACC,WAAW,EAAE;QAClB,IAAI,IAAI,CAACA,WAAW,CAACC,EAAE,IAAI,CAAC,EAAC;UACzB,IAAI,CAACC,OAAO,GAAG,IAAI;SACtB,MAAM;UACH,IAAI,CAACA,OAAO,GAAG,KAAK;;OAE3B,MAAM;QACH,IAAI,CAACA,OAAO,GAAG,KAAK;;IAE5B,CAAC,CAAC;EACJ;;AAjDWlB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZzBzB,6BAAO;MAAAA,+BAAe;MAAAA,iBAAQ;MAC9BA,0BAAI;MAAAA,YAAS;MAAAA,iBAAK;MAClBA,2BAAK;MACDA,6DAKM;MACVA,iBAAM;MACNA,gCAA+B;MAC/BA,+EAA6C;;;MAVzCA,eAAS;MAATA,+BAAS;MAEHA,eAAiB;MAAjBA,sCAAiB;MAQZA,eAAa;MAAbA,kCAAa","names":["i0","AppComponent","constructor","currentUserService","userUpdateService","router","initUser","updateHeader","userSubscription","getUpdate","subscribe","message","ngOnInit","ngOnChanges","theUser","getCurrentUser","curUser","currentUser","id","isAdmin","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\broke\\Desktop\\SWEN-261\\team-project-2225-swen-261-06-g-ritgaragesale\\estore-ui\\src\\app\\app.component.html","C:\\Users\\broke\\Desktop\\SWEN-261\\team-project-2225-swen-261-06-g-ritgaragesale\\estore-ui\\src\\app\\app.component.ts"],"sourcesContent":["<title>RIT GARAGE SALE</title>\r\n<h1>{{title}}</h1>\r\n<nav>\r\n    <div *ngIf=\"currentUser\">\r\n    <a routerLink=\"/dashboard\">Dashboard</a> \r\n    <a routerLink=\"/products\">Products</a>\r\n    <a routerLink=\"/login\">Login</a>\r\n    <a *ngIf=\"!isAdmin\" routerLink=\"/cart\">Cart</a>\r\n    </div>\r\n</nav>\r\n<router-outlet></router-outlet>\r\n<app-messages *ngIf=\"isAdmin\"></app-messages>","import { Component, OnInit, OnChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserUpdateService } from './userUpdate.service'\r\nimport { CurrentUserService } from './currentUser.service';\r\nimport { User } from './user';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit{\r\n    private userSubscription: Subscription;\r\n    currentUser: User = this.initUser();\r\n    message: string = \"\";\r\n    isAdmin: boolean = false;\r\n\r\n  constructor(\r\n    private currentUserService: CurrentUserService,\r\n    private userUpdateService: UserUpdateService,\r\n    private router: Router\r\n  ) {\r\n    this.updateHeader;\r\n    this.userSubscription = this.userUpdateService.getUpdate().subscribe(message => {\r\n            this.updateHeader();\r\n            this.message = message;\r\n    });\r\n\r\n  }\r\n\r\n  title = 'Rit Garage Sale';\r\n  currentUserExists = false;\r\n\r\n  ngOnInit(): void {\r\n    this.updateHeader();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    \r\n  }\r\n\r\n  initUser(): User {\r\n    var theUser: User = null as unknown as User;\r\n    this.currentUserService.getCurrentUser().subscribe(curUser => theUser = curUser);\r\n    return theUser;\r\n  }\r\n\r\n  updateHeader(): void {\r\n    this.currentUserService.getCurrentUser().subscribe(curUser =>{\r\n        this.currentUser = curUser;\r\n        if (this.currentUser) {\r\n            if (this.currentUser.id == 0){\r\n                this.isAdmin = true;\r\n            } else {\r\n                this.isAdmin = false;\r\n            }\r\n        } else {\r\n            this.isAdmin = false;\r\n        }\r\n    });\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}